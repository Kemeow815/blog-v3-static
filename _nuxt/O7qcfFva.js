import{d as v,r as i,o as w,aA as f,l as m,h as s,q as d,g as c,t as a,i as t,k,E as y,_ as x}from"#entry";import{_ as b}from"./Cp7ymphJ.js";const g={key:0,class:"weather-tip"},W={key:1,class:"weather-tip error"},I={key:2,class:"weather-body"},B={class:"weather-main"},E={class:"temp"},D={class:"text"},j={class:"weather-details"},q={key:3,class:"weather-tip"},C=v({__name:"Weather",setup(N){const e=i(null),r=i(!0),o=i(null);let l=null;async function _(){try{r.value=!0,o.value=null;const n=await fetch("https://devapi.qweather.com/v7/weather/now?key=0b8368e57bb44bfc862236f763f58357&location=101190101");if(!n.ok)throw new Error("获取天气数据失败");e.value=await n.json()}catch(n){o.value=n instanceof Error?n.message:"获取天气数据失败"}finally{r.value=!1}}return w(()=>{_(),l=window.setInterval(_,3600*1e3)}),f(()=>{l!==null&&(clearInterval(l),l=null)}),(n,u)=>{const h=y,p=b;return s(),m(p,null,{title:d(()=>[u[0]||(u[0]=t("span",{class:"title"},"天气速览",-1)),k(h,{name:"ph:cloud-sun-bold"})]),default:d(()=>[r.value?(s(),c("p",g," 正在获取天气… ")):o.value?(s(),c("p",W,a(o.value),1)):e.value&&e.value.code==="200"?(s(),c("div",I,[t("div",B,[t("span",E,a(e.value.now.temp)+"°",1),t("span",D,a(e.value.now.text),1)]),t("div",j,[t("div",null,"体感 "+a(e.value.now.feelsLike)+"°",1),t("div",null,a(e.value.now.windDir)+" "+a(e.value.now.windScale)+"级",1),t("div",null,"湿度 "+a(e.value.now.humidity)+"%",1)])])):(s(),c("p",q," 暂无天气信息 "))]),_:1})}}}),A=Object.assign(x(C,[["__scopeId","data-v-ed22ca07"]]),{__name:"WidgetWeather"});export{A as default};
