import{d as D,r as d,f as T,g as a,h as o,i as e,j as u,F as g,m as _,t as c,$ as b,n as r,_ as $}from"#entry";const M=[{id:"1",content:"测试",location:"南京市",createdAt:"2025-09-11 12:30"}],z=M.sort((v,m)=>new Date(m.createdAt).getTime()-new Date(v.createdAt).getTime()),B={class:"moments-page"},I={class:"container"},N={class:"moments-grid"},S={class:"moment-header"},F=["src","alt"],L={class:"author-info"},V={class:"author-main"},j={class:"author-name"},E={key:0,class:"badges-container"},O={class:"meta-info"},W={class:"moment-time"},q={key:0,class:"location-separator"},G={key:1,class:"location"},H={class:"moment-content"},J={class:"moment-text"},K=["src","onClick"],Q={key:0,class:"pagination"},R=["disabled"],U={class:"page-info"},X=["disabled"],p=5,Y=D({__name:"moments",setup(v){const m={name:"ATao",avatar:"https://cdn.atao.cyou/Web/Avatar.png",badges:["摸鱼达人"]},f=[...z].sort((s,n)=>new Date(n.createdAt).getTime()-new Date(s.createdAt).getTime()).map(s=>({...s,author:s.author||m})),l=d(1),k=T(()=>{const s=(l.value-1)*p;return f.slice(s,s+p)}),h=Math.ceil(f.length/p),y=s=>new Date(s).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\//g,"-").replace(",",""),w=d(!1),A=d(""),C=d(0),P=d([]),x=(s,n,t)=>{A.value=s,C.value=t,P.value=n,w.value=!0};return(s,n)=>(o(),a("div",B,[e("div",I,[e("div",N,[(o(!0),a(g,null,_(r(k),t=>(o(),a("article",{key:t.id,class:"moment-card"},[e("div",S,[e("img",{src:t.author.avatar,alt:t.author.name,width:"44",height:"44",class:"author-avatar"},null,8,F),e("div",L,[e("div",V,[e("h3",j,c(t.author.name),1),t.author.badges?.length?(o(),a("div",E,[(o(!0),a(g,null,_(t.author.badges,i=>(o(),a("span",{key:i,class:"badge"},c(i),1))),128))])):u("",!0)]),e("div",O,[e("time",W,c(y(t.createdAt)),1),t.location?(o(),a("span",q,"·")):u("",!0),t.location?(o(),a("span",G,c(t.location),1)):u("",!0)])])]),e("div",H,[e("p",J,c(t.content),1),t.images?.length?(o(),a("div",{key:0,class:b(["moment-images",{"single-image":t.images.length===1,"grid-images":t.images.length>1}])},[(o(!0),a(g,null,_(t.images,i=>(o(),a("img",{key:i,src:i,class:b(["moment-image",{"grid-item":t.images.length>1}]),alt:"即刻图片",onClick:Z=>x(i,t.images,t.images.indexOf(i))},null,10,K))),128))],2)):u("",!0)])]))),128))]),r(h)>1?(o(),a("div",Q,[e("button",{disabled:r(l)===1,onClick:n[0]||(n[0]=t=>l.value--),class:"pagination-btn"},"上一页",8,R),e("span",U,"第 "+c(r(l))+" 页 / 共 "+c(r(h))+" 页",1),e("button",{disabled:r(l)===r(h),onClick:n[1]||(n[1]=t=>l.value++),class:"pagination-btn"},"下一页",8,X)])):u("",!0)])]))}}),et=$(Y,[["__scopeId","data-v-c024cb2e"]]);export{et as default};
