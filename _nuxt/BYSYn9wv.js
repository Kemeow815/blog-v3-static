import{_ as f}from"./993y4J_I.js";import{d as k,r as y,o as m,V as g,l as w,h as s,q as b,g as a,n,t as l,i as u,H as i,W as p,_ as $}from"#entry";const h={key:0,class:"error"},x={key:1,class:"poetry-content"},C={class:"sentence"},B={class:"info"},D={key:2,class:"loading"},j=k({__name:"Poetry",setup(P){const e=y(null),r=y(null);function d(o){const t=`https://www.bing.com/search?q=${encodeURIComponent(o)}`;window.open(t,"_blank")}return m(()=>{typeof window.jinrishici<"u"?window.jinrishici.load(o=>{try{e.value={content:o.data.content,author:o.data.origin.author,dynasty:o.data.origin.dynasty,title:o.data.origin.title}}catch(t){console.error("解析诗词数据失败:",t),r.value="诗词数据解析失败"}},o=>{console.error("获取诗词失败:",o),r.value="获取诗词失败"}):r.value="今日诗词 SDK 未加载"}),(o,t)=>{const v=f,c=g("tip");return s(),w(v,{card:"",title:"今日诗词"},{default:b(()=>[n(r)?(s(),a("div",h,l(n(r)),1)):n(e)?(s(),a("div",x,[u("div",C,l(n(e).content),1),u("div",B,[t[3]||(t[3]=i(" 【",-1)),p((s(),a("span",{class:"clickable",onClick:t[0]||(t[0]=_=>d(n(e).dynasty))},[i(l(n(e).dynasty),1)])),[[c,{content:`搜索: ${n(e).dynasty}`}]]),t[4]||(t[4]=i("】",-1)),p((s(),a("span",{class:"clickable",onClick:t[1]||(t[1]=_=>d(n(e).author))},[i(l(n(e).author),1)])),[[c,{content:`搜索: ${n(e).author}`}]]),t[5]||(t[5]=i("《",-1)),p((s(),a("span",{class:"clickable",onClick:t[2]||(t[2]=_=>d(n(e).title))},[i(l(n(e).title),1)])),[[c,{content:`搜索: ${n(e).title}`}]]),t[6]||(t[6]=i("》 ",-1))])])):(s(),a("div",D," 正在加载今日诗词.... "))]),_:1})}}}),q=Object.assign($(j,[["__scopeId","data-v-57db2143"]]),{__name:"WidgetPoetry"});export{q as default};
