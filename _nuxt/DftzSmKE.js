import{d as D,r as l,f as T,g as a,h as o,i as e,j as u,F as h,m as _,t as c,$ as k,n as r,_ as $}from"#entry";const M=[{id:"1",content:"测试",location:"南京市",createdAt:"2025-09-11 12:30"},{id:"2",content:"测试图片",images:["https://imgbed.kemeow.top/file/pLwwWj8Y.jpg"],location:"南京",createdAt:"2025-09-11 14:46"}],j=M.sort((v,m)=>new Date(m.createdAt).getTime()-new Date(v.createdAt).getTime()),z={class:"moments-page"},B={class:"container"},I={class:"moments-grid"},L={class:"moment-header"},N=["src","alt"],S={class:"author-info"},F={class:"author-main"},V={class:"author-name"},W={key:0,class:"badges-container"},E={class:"meta-info"},O={class:"moment-time"},Y={key:0,class:"location-separator"},q={key:1,class:"location"},G={class:"moment-content"},H={class:"moment-text"},J=["src","onClick"],K={key:0,class:"pagination"},Q=["disabled"],R={class:"page-info"},U=["disabled"],p=5,X=D({__name:"moments",setup(v){const m={name:"ATao",avatar:"https://cdn.atao.cyou/Web/Avatar.png",badges:["摸鱼达人"]},f=[...j].sort((s,n)=>new Date(n.createdAt).getTime()-new Date(s.createdAt).getTime()).map(s=>({...s,author:s.author||m})),d=l(1),b=T(()=>{const s=(d.value-1)*p;return f.slice(s,s+p)}),g=Math.ceil(f.length/p);function w(s){return new Date(s).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\//g,"-").replace(",","")}const y=l(!1),A=l(""),C=l(0),P=l([]);function x(s,n,t){A.value=s,C.value=t,P.value=n,y.value=!0}return(s,n)=>(o(),a("div",z,[e("div",B,[e("div",I,[(o(!0),a(h,null,_(r(b),t=>(o(),a("article",{key:t.id,class:"moment-card"},[e("div",L,[e("img",{src:t.author.avatar,alt:t.author.name,width:"44",height:"44",class:"author-avatar"},null,8,N),e("div",S,[e("div",F,[e("h3",V,c(t.author.name),1),t.author.badges?.length?(o(),a("div",W,[(o(!0),a(h,null,_(t.author.badges,i=>(o(),a("span",{key:i,class:"badge"},c(i),1))),128))])):u("",!0)]),e("div",E,[e("time",O,c(w(t.createdAt)),1),t.location?(o(),a("span",Y,"·")):u("",!0),t.location?(o(),a("span",q,c(t.location),1)):u("",!0)])])]),e("div",G,[e("p",H,c(t.content),1),t.images?.length?(o(),a("div",{key:0,class:k(["moment-images",{"single-image":t.images.length===1,"grid-images":t.images.length>1}])},[(o(!0),a(h,null,_(t.images,i=>(o(),a("img",{key:i,src:i,class:k(["moment-image",{"grid-item":t.images.length>1}]),alt:"即刻图片",onClick:Z=>x(i,t.images,t.images.indexOf(i))},null,10,J))),128))],2)):u("",!0)])]))),128))]),r(g)>1?(o(),a("div",K,[e("button",{disabled:r(d)===1,class:"pagination-btn",onClick:n[0]||(n[0]=t=>d.value--)}," 上一页 ",8,Q),e("span",R,"第 "+c(r(d))+" 页 / 共 "+c(r(g))+" 页",1),e("button",{disabled:r(d)===r(g),class:"pagination-btn",onClick:n[1]||(n[1]=t=>d.value++)}," 下一页 ",8,U)])):u("",!0)])]))}}),et=$(X,[["__scopeId","data-v-46415fd1"]]);export{et as default};
