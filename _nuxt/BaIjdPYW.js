import{d as A,r as f,f as w,g as s,h as a,i as e,j as l,F as _,m as u,t as n,$ as b,n as i,_ as C}from"#entry";const D=[{id:"1",content:"测试",location:"南京市",createdAt:"2025-09-11 12:30"}],T=D.sort((p,m)=>new Date(m.createdAt).getTime()-new Date(p.createdAt).getTime()),$={class:"moments-page"},x={class:"container"},M={class:"moments-grid"},z={class:"moment-header"},B=["src","alt"],N={class:"author-info"},S={class:"author-main"},F={class:"author-name"},L={key:0,class:"badges-container"},P={class:"meta-info"},V={class:"moment-time"},j={key:0,class:"location-separator"},E={key:1,class:"location"},I={class:"moment-content"},W={class:"moment-text"},q=["src"],G={key:0,class:"pagination"},H=["disabled"],J={class:"page-info"},K=["disabled"],h=5,O=A({__name:"moments",setup(p){const m={name:"ATao",avatar:"https://cdn.atao.cyou/Web/Avatar.png",badges:["摸鱼达人"]},v=[...T].sort((o,r)=>new Date(r.createdAt).getTime()-new Date(o.createdAt).getTime()).map(o=>({...o,author:o.author||m})),c=f(1),k=w(()=>{const o=(c.value-1)*h;return v.slice(o,o+h)}),g=Math.ceil(v.length/h),y=o=>new Date(o).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(/\//g,"-").replace(",","");return f(!1),(o,r)=>(a(),s("div",$,[e("div",x,[e("div",M,[(a(!0),s(_,null,u(i(k),t=>(a(),s("article",{key:t.id,class:"moment-card"},[e("div",z,[e("img",{src:t.author.avatar,alt:t.author.name,width:"44",height:"44",class:"author-avatar"},null,8,B),e("div",N,[e("div",S,[e("h3",F,n(t.author.name),1),t.author.badges?.length?(a(),s("div",L,[(a(!0),s(_,null,u(t.author.badges,d=>(a(),s("span",{key:d,class:"badge"},n(d),1))),128))])):l("",!0)]),e("div",P,[e("time",V,n(y(t.createdAt)),1),t.location?(a(),s("span",j,"·")):l("",!0),t.location?(a(),s("span",E,n(t.location),1)):l("",!0)])])]),e("div",I,[e("p",W,n(t.content),1),t.images?.length?(a(),s("div",{key:0,class:b(["moment-images",{"single-image":t.images.length===1,"grid-images":t.images.length>1}])},[(a(!0),s(_,null,u(t.images,d=>(a(),s("img",{key:d,src:d,class:b(["moment-image",{"grid-item":t.images.length>1}]),alt:"即刻图片"},null,10,q))),128))],2)):l("",!0)])]))),128))]),i(g)>1?(a(),s("div",G,[e("button",{disabled:i(c)===1,onClick:r[0]||(r[0]=t=>c.value--),class:"pagination-btn"},"上一页",8,H),e("span",J,"第 "+n(i(c))+" 页 / 共 "+n(i(g))+" 页",1),e("button",{disabled:i(c)===i(g),onClick:r[1]||(r[1]=t=>c.value++),class:"pagination-btn"},"下一页",8,K)])):l("",!0)])]))}}),R=C(O,[["__scopeId","data-v-b7e871ac"]]);export{R as default};
